// Compiled file - any changes will be overwritten by grunt task
!function($){function previous_post_trigger(){var trigger=$(".ajax-loader");console.log(trigger+"this is the trigger");var trigger_position=trigger.offset().top-$(window).outerHeight();$(window).scroll(function(event){trigger_position>$(window).scrollTop()||(get_previous_post(trigger),$(this).off(event))})}function get_previous_post(trigger){var previous_post_ID=trigger.attr("data-id"),json_url=rest_url+"posts/"+previous_post_ID+"?_embed=true";$(".ajax-loader").css("visibility","visible"),$.ajax({dataType:"json",url:json_url}).done(function(object){the_previous_post(object)}).fail(function(){console.log("error")}).always(function(){console.log("AJAX complete")})}function the_previous_post(object){function build_post(){var previous_post_content=(new Date(object.date),object.featured_media,object._embedded["wp:featuredmedia"][0],'<div class="ad-unit"><div class="js-ad scroll-load" data-size="[[728,90],[970,90]]" data-size-map="[[[1000,0],[[728,90],[970,90]]],[[730,0],[[728,90]]]]" data-pos="btf"></div><span class="fake-leaderboard-span"></span></div><article itemscope itemtype="https://schema.org/ScholarlyArticle"><div class="story-header" id="<'+object.id+'"><div class="container"><div class="story-title"><h1 itemprop="name">'+object.title.rendered+"</h1></div></div>");'</div></article><div class="ajax-loader" data-id="'+object.previous_post_ID+'"><img src="'+theme_uri+'/img/spinner.svg" width="32" height="32" /></div>',$(".ajax-loader").replaceWith(previous_post_content),make.gpt.loadDyn(),previous_post_trigger()}build_post()}var theme_uri=(postdata.post_id,postdata.theme_uri),rest_url=postdata.rest_url;previous_post_trigger()}(jQuery);