// Compiled file - any changes will be overwritten by grunt task
function onYouTubeIframeAPIReady(){for(var e=document.getElementsByTagName("iframe"),x=e.length;x--;)/youtube.com\/embed/.test(e[x].src)&&(gtmYTListeners.push(new YT.Player(e[x],{events:{onStateChange:onPlayerStateChange,onError:onPlayerError}})),YT.gtmLastAction="p")}function onPlayerStateChange(e){e.data==YT.PlayerState.PLAYING&&setTimeout(onPlayerPercent,1e3,e.target);var video_data=e.target.getVideoData(),label=video_data.title;e.data==YT.PlayerState.PLAYING&&"p"==YT.gtmLastAction&&(dataLayer.push({event:"videos",action:"play",label:label}),YT.gtmLastAction=""),e.data==YT.PlayerState.PAUSED&&(dataLayer.push({event:"videos",action:"pause",label:label}),YT.gtmLastAction="p")}function onPlayerError(e){dataLayer.push({event:"error",action:"GTM",label:"videos:"+e.target.src+"-"+e.data})}function onPlayerPercent(e){if(e.getPlayerState()==YT.PlayerState.PLAYING){var t=e.getDuration()-e.getCurrentTime()<=1.5?1:(Math.floor(e.getCurrentTime()/e.getDuration()*4)/4).toFixed(2);if(!e.lastP||t>e.lastP){var video_data=e.getVideoData(),label=video_data.title;e.lastP=t,dataLayer.push({event:"videos",action:100*t+"%",label:label})}1!=e.lastP&&setTimeout(onPlayerPercent,1e3,e)}}var AUTH0_CLIENT_ID="0sR3MQz8ihaSnLstc1dABgENHS5PQR8d",AUTH0_DOMAIN="makermedia.auth0.com",AUTH0_CALLBACK_URL=templateUrl+"/authenticated/",AUTH0_REDIRECT_URL=location.href;window.addEventListener("load",function(){function scheduleRenewal(){var expiresAt=JSON.parse(localStorage.getItem("expires_at")),delay=expiresAt-Date.now();delay>0&&(tokenRenewalTimeout=setTimeout(function(){renewToken()},delay))}function setSession(authResult){var expiresAt=JSON.stringify(1e3*authResult.expiresIn+(new Date).getTime());localStorage.setItem("access_token",authResult.accessToken),localStorage.setItem("id_token",authResult.idToken),localStorage.setItem("expires_at",expiresAt),scheduleRenewal()}function logout(){localStorage.removeItem("access_token"),localStorage.removeItem("id_token"),localStorage.removeItem("expires_at"),displayButtons(),clearTimeout(tokenRenewalTimeout)}function isAuthenticated(){var expiresAt=JSON.parse(localStorage.getItem("expires_at"));return(new Date).getTime()<expiresAt}function handleAuthentication(){webAuth.parseHash(function(err,authResult){if(authResult&&authResult.accessToken&&authResult.idToken){window.location.hash="",setSession(authResult),loginBtn.style.display="none";var redirect_url=localStorage.getItem("redirect_to");setTimeout(function(){location.href=redirect_url},3e3)}else err&&(console.log(err),alert("Error: "+err.error+". Check the console for further details."));displayButtons()})}function displayButtons(){isAuthenticated()?(loginBtn.style.display="none",getProfile(),profileView.style.display="flex"):(loginBtn.style.display="flex",profileView.style.display="none")}function getProfile(){if(userProfile)displayProfile();else{var accessToken=localStorage.getItem("access_token");accessToken||console.log("Access token must exist to fetch profile"),webAuth.client.userInfo(accessToken,function(err,profile){profile&&(userProfile=profile,displayProfile())})}}function displayProfile(){document.querySelector("#profile-view img").src=userProfile.picture}function renewToken(){webAuth.checkSession({},function(err,result){err?console.log(err):(setSession(result),displayButtons())})}var tokenRenewalTimeout,loginBtn=document.getElementById("qsLoginBtn"),logoutBtn=document.getElementById("qsLogoutBtn"),profileView=document.getElementById("profile-view");loginBtn.style.display="none",profileView.style.display="none";var userProfile,webAuth=new auth0.WebAuth({domain:AUTH0_DOMAIN,clientID:AUTH0_CLIENT_ID,redirectUri:AUTH0_CALLBACK_URL,audience:"https://"+AUTH0_DOMAIN+"/userinfo",responseType:"token id_token",scope:"openid profile",leeway:60});loginBtn.addEventListener("click",function(e){e.preventDefault(),localStorage.setItem("redirect_to",AUTH0_REDIRECT_URL),webAuth.authorize()}),logoutBtn.addEventListener("click",logout),webAuth.checkSession({},function(err,result){err?console.log(err):(setSession(result),displayButtons())}),handleAuthentication(),scheduleRenewal()}),function(window){"use strict";function classReg(className){return new RegExp("(^|\\s+)"+className+"(\\s+|$)")}function toggleClass(elem,c){var fn=hasClass(elem,c)?removeClass:addClass;fn(elem,c)}var hasClass,addClass,removeClass;"classList"in document.documentElement?(hasClass=function(elem,c){return elem.classList.contains(c)},addClass=function(elem,c){elem.classList.add(c)},removeClass=function(elem,c){elem.classList.remove(c)}):(hasClass=function(elem,c){return classReg(c).test(elem.className)},addClass=function(elem,c){hasClass(elem,c)||(elem.className=elem.className+" "+c)},removeClass=function(elem,c){elem.className=elem.className.replace(classReg(c)," ")});var classie={hasClass:hasClass,addClass:addClass,removeClass:removeClass,toggleClass:toggleClass,has:hasClass,add:addClass,remove:removeClass,toggle:toggleClass};"function"==typeof define&&define.amd?define(classie):window.classie=classie}(window),function($){function universalNavActive(site){jQuery(".nav-"+site).addClass("active-site"),jQuery(".nav-"+site+" .nav-level-2-arrow").addClass("active-site")}$("#hamburger-icon, #hamburger-makey, .nav-flyout-underlay").click(function(){$("#hamburger-icon").toggleClass("open"),$("#hamburger-makey").animate({opacity:"toggle"}),$("#nav-flyout").animate({opacity:"toggle"}),$("body").toggleClass("nav-open-no-scroll"),$(".nav-flyout-underlay").animate({opacity:"toggle"})}),$(".nav-flyout-column").on("click",".expanding-underline",function(event){$(window).width()<577&&(event.preventDefault(),$(this).toggleClass("underline-open"),$(this).next(".nav-flyout-ul").slideToggle())});var e=$(".universal-nav"),hamburger=$(".nav-hamburger"),y_pos=$(".nav-level-2").offset().top,nextItemUnderNav=$("#home-featured");$(".second-nav").length&&(nextItemUnderNav=$(".second-nav")),$(window).on("resize",function(){$(window).width()<767?(y_pos=0,nextItemUnderNav.css("margin-top","55px")):(y_pos=75,nextItemUnderNav.css("margin-top","0px"))}),jQuery(document).scroll(function(){var scrollTop=$(this).scrollTop();scrollTop>y_pos&&$(window).width()>767?(e.addClass("main-nav-scrolled"),hamburger.addClass("ham-menu-animate"),nextItemUnderNav.css("margin-top","55px")):scrollTop<=y_pos&&(e.removeClass("main-nav-scrolled"),hamburger.removeClass("ham-menu-animate"),$(window).width()>767&&nextItemUnderNav.css("margin-top","0px"))}),$("#search-modal").fancybox({wrapCSS:"search-modal-wrapper",autoSize:!0,autoHeight:!0,padding:0,overlay:{opacity:.8,css:{"background-color":"#ff0000"}},closeClick:!1,afterShow:function(){$("#search-modal").bind("click",!1),$(".sb-search-submit").click(function(e){if($("#search").val()&&""!=$("#search").val()){var searchForm=$(".search-form");window.location.href=searchForm.attr("action")+"?s="+$("#search").val()}else $("#search").attr("placeholder","Please enter in some text to search for...")}),$(".sb-search-input").focus()},afterClose:function(){$("#search-modal").unbind("click",!1)}}),$(".fa-search").click(function(e){$("#search-modal").trigger("click"),$(".essb-live-customizer-main, .essb-live-buttons-customizer").attr("style","display: none !important")});var site=window.location.hostname,firstpath=$(location).attr("pathname");firstpath.indexOf(1),firstpath.toLowerCase(),firstpath=firstpath.split("/")[1];var shareSection=site+"/"+firstpath;switch(site){case"make-zine":case"makezine":case"makezine.wpengine.com":case"makezine.staging.wpengine.com":case"makezine.com":universalNavActive("zine");break;case"makeco":case"makeco.wpengine.com":case"makeco.staging.wpengine.com/":case"makeco.com":universalNavActive("make");break;case"makershed.com":universalNavActive("shed");break;case"maker-faire":case"makerfaire":case"makerfaire.wpengine.com":case"makerfaire.staging.wpengine.com":case"makerfaire.com":universalNavActive("faire")}switch(shareSection){case"maker-share/learning":case"makershare/learning":case"makeshare.wpengine.com/learning":case"makershare.staging.wpengine.com/learning":case"makershare.com/learning":universalNavActive("share");break;case"maker-share/makers":case"makershare/makers":case"makeshare.wpengine.com/makers":case"makershare.staging.wpengine.com/makers":case"makershare.com/makers":universalNavActive("share-p")}}(jQuery),jQuery(".ga-nav a").click(function(e){var link_name=jQuery(this).text(),menu_name=jQuery(this).parents("ul.nav").attr("id");ga("send","event",menu_name,"Click",link_name)}),jQuery(document).scroll(function(){if(window.location.href.indexOf("/giftguide")==-1){var y=jQuery(this).scrollTop();y>800?(jQuery(".sumome-share-client-wrapper-left-page").css({opacity:1}),jQuery(".sumome-share-client-wrapper-left-page").fadeIn()):jQuery(".sumome-share-client-wrapper-left-page").fadeOut()}}),jQuery("a.sumome-share-client-share").ready(function(){jQuery("a[title='Twitter']").addClass("SumoMeTwitter"),jQuery("a[title='Facebook']").addClass("SumoMeFacebook"),jQuery("a[title='Google+']").addClass("SumoMeGplus"),jQuery("a[title='Reddit']").addClass("SumoMeReddit"),jQuery("a[title='LinkedIn']").addClass("SumoMeLinkedin"),jQuery("a[title='Pinterest']").addClass("SumoMePinterest")}),jQuery(document).ready(function($){$(document.links).filter(function(){if("_self"!=$(this).attr("target"))return this.hostname!=window.location.hostname}).attr("target","_blank")});var _sf_async_config={};_sf_async_config.uid=53627,_sf_async_config.domain="makezine.com",_sf_async_config.useCanonical=!0,_sf_async_config.sections="Change this to your Section name",_sf_async_config.authors="Change this to your Author name",function(){function loadChartbeat(){window._sf_endpt=(new Date).getTime();var e=document.createElement("script");e.setAttribute("language","javascript"),e.setAttribute("type","text/javascript"),e.setAttribute("src","//static.chartbeat.com/js/chartbeat.js"),document.body.appendChild(e)}var oldonload=window.onload;window.onload="function"!=typeof window.onload?loadChartbeat:function(){oldonload(),loadChartbeat()}}(),jQuery(document).ready(function($){$(".comment-list").appendTo("#comments");var url=document.location.toString();url.match("#")&&$(".nav-tabs a[href=#"+url.split("#")[1]+"]").tab("show"),$(".nav-tabs a").on("shown",function(e){history.pushState?window.history.pushState(null,null,e.target.hash):window.location.hash=e.target.hash})}),jQuery(document).on("submit",".nlp-form",function(e){e.preventDefault();var anyBoxesChecked=!1;if(jQuery('#nlp-form input[type="checkbox"]').each(function(){jQuery(this).is(":checked")&&(anyBoxesChecked=!0)}),0==anyBoxesChecked)return jQuery('.list-radio[data-toggle="tooltip"]').tooltip(),jQuery('.list-radio[data-toggle="tooltip"]').tooltip("show"),!1;var nlpEmail=jQuery("#nlp-input").val();return jQuery("#nlp-form #email").val(nlpEmail),""==jQuery("#nlp-form #email").val()?(jQuery("#nlp-input").tooltip(),jQuery("#nlp-input").tooltip("show"),!1):void jQuery(document).on("submit",".nlp-form",function(e){e.preventDefault(),onSubmitJoinPage()})}),jQuery(document).ready(function($){$(".fancybox-thx").fancybox({autoSize:!1,width:400,autoHeight:!0,padding:0,afterLoad:function(){this.content=this.content.html()}}),$(".nl-thx-p2").fancybox({autoSize:!1,width:400,autoHeight:!0,padding:0,afterLoad:function(){this.content=this.content.html()}}),$(".nl-modal-error").fancybox({autoSize:!1,width:250,autoHeight:!0,padding:0,afterLoad:function(){this.content=this.content.html()}}),$(document).on("submit",".whatcounts-signup2",function(e){e.preventDefault(),$.post("https://secure.whatcounts.com/bin/listctrl",$(".fancybox-inner .whatcounts-signup2").serialize()),jQuery(".fancybox-close").click(),jQuery(".nl-thx-p2").trigger("click")}),$('input[type="checkbox"]').click(function(e){e.stopPropagation()}),window.location.href.indexOf("?thankyou=true&subscribed-to=make-newsletter")>-1?($(".fancybox-thx").fancybox({autoSize:!1,width:400,autoHeight:!0,padding:0,afterLoad:function(){this.content=this.content.html()}}),$(".fancybox-thx").trigger("click")):window.location.href.indexOf("?subscribed-to-make-newsletter")>-1?($(".fancybox-thx").fancybox({autoSize:!1,width:400,autoHeight:!0,padding:0,afterLoad:function(){this.content=this.content.html()}}),$(".nl-thx-p2").trigger("click")):window.location.href.indexOf("?thankyou=true&subscribed-to=free-pdf")>-1?($(".fancybox-thx-free-pdf").fancybox({autoSize:!1,width:580,autoHeight:!0,padding:0,afterLoad:function(){this.content=this.content.html()}}),$(".fancybox-thx-free-pdf").trigger("click")):window.location.href.indexOf("?success=true&subscribe-preferences")>-1?($(".fancybox-sub-pref").fancybox({autoSize:!1,width:480,autoHeight:!0,padding:0,afterLoad:function(){this.content=this.content.html()}}),$(".fancybox-sub-pref").trigger("click")):window.location.href.indexOf("?thank-you-project-submission")>-1&&($(".fancybox-contribute-submission").fancybox({autoSize:!1,width:480,autoHeight:!0,padding:0,afterLoad:function(){this.content=this.content.html()}}),$(".fancybox-contribute-submission").trigger("click"))});var onSubmitFooterDesktop=function(token){var bla=jQuery("#wc-email").val();jQuery.post("https://secure.whatcounts.com/bin/listctrl",jQuery(".whatcounts-signup1").serialize()),jQuery(".fancybox-thx").trigger("click"),jQuery(".nl-modal-email-address").text(bla),jQuery(".whatcounts-signup2 #email").val(bla)};jQuery(document).on("submit",".whatcounts-signup1",function(e){e.preventDefault(),onSubmitFooterDesktop()});var onSubmitFooterMobile=function(token){var bla=jQuery("#wc-email-m").val();jQuery.post("https://secure.whatcounts.com/bin/listctrl",jQuery(".whatcounts-signup1m").serialize()),jQuery(".fancybox-thx").trigger("click"),jQuery(".nl-modal-email-address").text(bla),jQuery(".whatcounts-signup2 #email").val(bla)};jQuery(document).on("submit",".whatcounts-signup1m",function(e){e.preventDefault(),onSubmitFooterMobile()});var onSubmitPostSide=function(token){var bla=jQuery("#wc-email").val();jQuery.post("https://secure.whatcounts.com/bin/listctrl",jQuery(".whatcounts-signup1s").serialize()),jQuery(".fancybox-thx").trigger("click"),jQuery(".nl-modal-email-address").text(bla),jQuery(".whatcounts-signup2 #email").val(bla)};jQuery(document).on("submit",".whatcounts-signup1s",function(e){e.preventDefault(),onSubmitPostSide()});var onSubmitHeaderOverlay=function(token){var bla=jQuery("#wc-email-o").val();jQuery.post("https://secure.whatcounts.com/bin/listctrl",jQuery(".whatcounts-signup1o").serialize()),jQuery(".fancybox-thx").trigger("click"),jQuery(".nl-modal-email-address").text(bla),jQuery(".whatcounts-signup2 #email").val(bla)};jQuery(document).on("submit",".whatcounts-signup1o",function(e){e.preventDefault(),onSubmitHeaderOverlay()});var onSubmitHeaderMobile=function(token){var bla=jQuery("#wc-email-o").val();jQuery.post("https://secure.whatcounts.com/bin/listctrl",jQuery(".whatcounts-head-mobile").serialize()),jQuery(".fancybox-thx").trigger("click"),jQuery(".nl-modal-email-address").text(bla),jQuery(".whatcounts-signup2 #email").val(bla)};jQuery(document).on("submit",".whatcounts-head-mobile",function(e){e.preventDefault(),onSubmitHeaderMobile()});var onSubmitTag=function(token){jQuery.post("https://secure.whatcounts.com/bin/listctrl",jQuery(".whatcounts-signupTagArchive").serialize()),jQuery(".nl-thx-p2").trigger("click")};jQuery(document).on("submit",".whatcounts-signupTagArchive",function(e){e.preventDefault(),onSubmitTag()});var onSubmitPageBuilder=function(token){var bla=jQuery("#wc-email").val();jQuery.post("https://secure.whatcounts.com/bin/listctrl",jQuery(".whatcounts-signup3").serialize()),jQuery(".fancybox-thx").trigger("click"),jQuery(".nl-modal-email-address").text(bla),jQuery(".whatcounts-signup2 #email").val(bla)};jQuery(document).on("submit",".whatcounts-signup3",function(e){e.preventDefault(),onSubmitPageBuilder()});var onSubmitJoinPage=function(token){jQuery.post("https://secure.whatcounts.com/bin/listctrl",jQuery(".nlp-form").serialize()),jQuery(".nl-thx-p2").trigger("click")},recaptchaKey="6Lf_-kEUAAAAAHtDfGBAleSvWSynALMcgI1hc_tP";onloadCallback=function(){jQuery("#recapcha-footer-desktop").length&&grecaptcha.render("recapcha-footer-desktop",{sitekey:recaptchaKey,callback:onSubmitFooterDesktop}),jQuery("#recapcha-footer-mobile").length&&grecaptcha.render("recapcha-footer-mobile",{sitekey:recaptchaKey,callback:onSubmitFooterMobile}),jQuery("#recapcha-header-overlay").length&&grecaptcha.render("recapcha-header-overlay",{sitekey:recaptchaKey,callback:onSubmitHeaderOverlay}),jQuery("#recapcha-header-mobile").length&&grecaptcha.render("recapcha-header-mobile",{sitekey:recaptchaKey,callback:onSubmitHeaderMobile}),jQuery("#recapcha-join-page").length&&grecaptcha.render("recapcha-join-page",{sitekey:recaptchaKey,callback:onSubmitJoinPage}),jQuery("#recapcha-post-side").length&&grecaptcha.render("recapcha-post-side",{sitekey:recaptchaKey,callback:onSubmitPostSide}),jQuery("#recapcha-tag").length&&grecaptcha.render("recapcha-tag",{sitekey:recaptchaKey,callback:onSubmitTag}),jQuery("#recapcha-page-builder").length&&grecaptcha.render("recapcha-page-builder",{sitekey:recaptchaKey,callback:onSubmitPageBuilder})},jQuery(document).ready(function(){jQuery("img.lazyload").lazyload({effect:"fadeIn"})});for(var e=document.getElementsByTagName("iframe"),x=e.length;x--;)/youtube.com\/embed/.test(e[x].src)&&e[x].src.indexOf("enablejsapi=")===-1&&(e[x].src+=(e[x].src.indexOf("?")===-1?"?":"&")+"enablejsapi=1");var gtmYTListeners=[],j=document.createElement("script"),f=document.getElementsByTagName("script")[0];j.src="//www.youtube.com/iframe_api",j.async=!0,f.parentNode.insertBefore(j,f),jQuery(document).ready(function(){jQuery(".fancytube").fancybox({maxWidth:800,maxHeight:600,fitToView:!1,width:"70%",height:"70%",autoSize:!1,closeClick:!1,openEffect:"none",closeEffect:"none",padding:0}),jQuery(".fancytube").fancybox()}),jQuery(document).ready(function(){jQuery(".scroll").click(function(event){event.preventDefault();var full_url=this.href,parts=full_url.split("#"),trgt=parts[1],target_offset=jQuery("#"+trgt).offset(),target_top=target_offset.top;jQuery("html, body").animate({scrollTop:target_top-50},1e3),jQuery("a span.badge").addClass("badge-info")}),jQuery(".hide-thumbnail").removeClass("img-thumbnail")}),jQuery(document).on("submit","#form13",function(e){event.preventDefault(),jQuery.ajax({url:"//makemagazine.wufoo.com/forms/zzv65kl0b09v1f/#public",type:"POST",data:jQuery(this).serialize()}),jQuery(".fancybox-feedback-inner1").hide(),jQuery(".fancybox-feedback-inner2").show()});